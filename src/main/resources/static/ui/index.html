<!doctype html>
<html ng-app="Index">
<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="/webjars/roboto-fontface/0.4.2/css/roboto-fontface.css">
    <link rel="stylesheet" href="/webjars/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/webjars/ionicons/2.0.1/css/ionicons.min.css">
    <link rel="stylesheet" href="/webjars/angular-material/0.10.0/angular-material.min.css">
    <link rel="stylesheet" href="../css/styles.css">
    <meta name="viewport" content="initial-scale=1"/>

    <script src="/webjars/jquery/2.1.4/jquery.min.js"></script>
    <script src="/webjars/angularjs/1.4.3-1/angular.js"></script>
    <script src="/webjars/angularjs/1.4.3-1/angular-animate.min.js"></script>
    <script src="/webjars/angularjs/1.4.3-1/angular-aria.min.js"></script>
    <script src="/webjars/angularjs/1.4.3-1/angular-resource.min.js"></script>
    <script src="/webjars/angularjs/1.4.3-1/i18n/angular-locale_ru-ru.js"></script>
    <script src="/webjars/angular-translate/2.7.2/angular-translate.min.js"></script>
    <script src="/webjars/angularjs/1.4.3-1/angular-route.min.js"></script>
    <script src="/webjars/angular-material/0.10.0/angular-material.js"></script>
    <script>
        JS_COMPILED = true;
        function loadScripts() {
            JS_COMPILED = false;
            document.write('\x3Cscript type="text/javascript" src="../js/require.js">\x3C/script>');
            document.write('\x3Cscript type="text/javascript" src="../js/index/index.js">\x3C/script>');
        }
        document.write('\x3Cscript type="text/javascript" src="../js/compiled-r0.0.1.min.js" onerror="loadScripts()">\x3C/script>');
    </script>
</head>
<body layout="row" ng-controller="IndexCtrl as index">

<md-backdrop class="app-loading md-dialog-backdrop md-opaque ng-scope md-default-theme" aria-hidden="true"
             style="background-color: white; text-align: center; z-index: 999">
    <div class="app-loading-spiner" style="margin-top: 1em"><i class="fa fa-cog fa-spin fa-3x"></i></div>
</md-backdrop>

<md-sidenav layout="column" class="md-sidenav-left md-whiteframe-z3" md-component-id="left"
            md-is-locked-open="$mdMedia('gt-md')">
    <div ng-controller="MenuCtrl as menu" ng-show="menu.show">

        <md-toolbar class="md-hue-2 md-tall">
            <div layout="column" class="md-toolbar-tools-bottom inset">
                <h1 class="md-headline">{{menu.username}}</h1>

                <h2 class="md-subhead">{{menu.email}}</h2>
            </div>
        </md-toolbar>

        <md-list class="menu-links">
            <div ng-repeat="(linkHref, linkInfo) in menu.menuLinks">
                <md-divider ng-if="linkInfo.divider"></md-divider>
                <a ng-href="#{{linkHref}}" target="_self">
                    <md-list-item tabindex="-1"
                                  ng-class="{'active' : linkHref === menu.selected }"
                                  ng-click="menu.menuClick(linkHref)" class="menu-link">
                        <md-icon aria-label="Menu" class="menu-link-icon {{linkInfo.icon}}"></md-icon>
                        {{linkInfo.title | translate}}
                    </md-list-item>
                </a>
            </div>
            <md-divider></md-divider>
            <div>
                <md-list-item
                        ng-click="menu.logout()" class="menu-link">
                    <md-icon aria-label="Menu" class="menu-link-icon ion-log-out fa-lg"></md-icon>
                    {{'INDEX_MENU_LOGOUT' | translate}}
                </md-list-item>
            </div>
        </md-list>
    </div>
</md-sidenav>

<div layout="column" class="relative" layout-fill role="main">

    <md-toolbar layout="row" ng-controller="ToolbarCtrl as toolbar" ng-show="toolbar.show">
        <div class="md-toolbar-tools">
            <md-button hide-gt-md ng-click="toolbar.toggleSidenav('left')" class="md-icon-button">
                <md-icon aria-label="Menu" class="ion-navicon-round fa-lg"></md-icon>
            </md-button>
            <h1>{{toolbar.title | translate}}</h1>
            <span flex></span>
            <md-button ng-repeat="tool in $root.toolbarTools"
                       aria-label="{{tool.name | translate}}"
                       title="{{tool.name | translate}}"
                       ng-click="tool.click()"
                       class="md-icon-button">
                <md-icon class="{{tool.icon}}"></md-icon>
            </md-button>
        </div>
    </md-toolbar>


    <md-content md-scroll-y layout="column" flex class="md-padding md-default-theme app-view">
        <ui-view layout="column" layout-fill layout-padding ng-view>

        </ui-view>
        <div style="width: 100%; text-align: center; font-size: small">Footer</div>
    </md-content>

</div>
</body>
</html>